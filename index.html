<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    
    <style>
        .q_gameboard
        {
			width: 535px;
			margin-left: auto;
			margin-right: auto;
			margin-top: 20px;
		}
        
        .q_row
    	{
    	    clear: left;
    	}
    	
        .q_corner_start
    	{
    	    width: 110px;
    	    height: 110px;
    	    float: left;
    	    background-color: gray;
    	}
    	
    	.q_corner_end
    	{
    	    width: 110px;
    	    height: 110px;
    	    float: left;
    	    background-color: gray;
    	}
    	
    	.q_border_hz
    	{
    	    width: 110px;
    	    height: 50px;
    	    float: left;
    	    background-color: gray;
    	}
    	
    	.q_border_vt
    	{
    	    width: 50px;
    	    height: 110px;
    	    float: left;
    	    background-color: gray;
    	}
    	
    	.q_tile
    	{
    	    width: 50px;
    	    height: 50px;
    	    background-color: blue;    	    
    	    float: left;
    	    margin-left: 10px;
    	}
 
    	.q_tile_no_margin
    	{
    	    width: 50px;
    	    height: 50px;
    	    background-color: blue;    	    
    	    float: left;
    	}
     	
    	.q_fence_hz
    	{
    	    width: 48px;
    	    height: 8px;
    	    float: left;
    	    border: 1px solid white;
    	    background-color: white;
    	}
    	
    	.q_fence_vt
    	{
    	    width: 8px;
    	    height: 48px;
    	    float: left;
    	    border: 1px solid white;
    	    background-color: white;
    	}
    	    	
    	.q_fence_rotated
    	{
    	    -webkit-transform: rotate(90deg);  /* Chrome, Safari 3.1+ */
	    -moz-transform: rotate(90deg);  /* Firefox 3.5-15 */
	    -ms-transform: rotate(90deg);  /* IE 9 */
	    -o-transform: rotate(90deg);  /* Opera 10.50-12.00 */
   	    transform: rotate(90deg);  /* Firefox 16+, IE 10+, Opera 12.10+ */
    	}

    	.q_fence_rotator
    	{
    	    width: 20px;
    	    height: 20px;
    	    border-radius: 10px;
    	    background-color: yellow;
    	    position: absolute;
    	    display: none;
    	}
    	
    	.q_fence_rotator_vt
    	{
    	    left: -6px;
    	    top: 7px;    	    
    	}
    	
    	.q_fence_rotator_hz
    	{
    	    left: 7px;
    	    top: -6px;    	    
    	}
    	
    	.q_fence_confirm
    	{
    	    width: 20px;
    	    height: 20px;
    	    border-radius: 10px;
    	    background-color: green;
    	    position: absolute;
    	    left: -6px;
    	    top: 80px;
    	    display: none;
    	}
    	
    	.q_fence_confirm_vt
    	{
    	    left: -6px;
    	    top: 80px;    	    
    	}

    	.q_fence_confirm_hz
    	{
    	    left: 80px;
    	    top: -6px;    	    
    	}
    	   	    	
    	.q_fence_handle
    	{
    	    width: 8px;
    	    height: 8px;
    	    border: 1px solid pink;
    	    background-color: pink;
    	    position: absolute;
    	    top: 49px;
    	    left: -1px;
    	    display: none;
    	}
    	    	    	    	
    	.q_fence_intersection
    	{
    	    width: 10px;
    	    height: 10px;
    	    float: left;
    	    border: 0;
    	    background-color: white;
    	    margin-left: 50px;
    	}
    	
    	.q_fence_active
    	{
    	    background-color: red;
    	    border: 1px solid black;
    	}
    	
    	.q_fence_placed
    	{
    	    background-color: black;
    	    border: 1px solid black;
    	}
    	
    	.pawn
    	{
    	    width: 40px;
    	    height: 40px;
    	    border-radius: 19px;
    	    border: 2px solid black;
    	    margin: 3px;
    	}
    	
    	.pawn_green
    	{
    	    background-color: green;
    	}
    	   	
    	.pawn_yellow
    	{
    	    background-color: yellow;
    	}
    	
    	.pawn_next
    	{
    	    width: 40px;
    	    height: 40px;
    	    border-radius: 19px;
    	    margin: 3px;
    	    display: none;
    	    border: 2px dashed white;
    	    background-color: rgba(255, 255, 255, 0.5);
    	}
    	
    	.pawn_next_0
    	{
    	    position: absolute;
    	    top: -62px;
    	}
    	
    	.pawn_next_180
    	{
    	    position: absolute;
    	    top: 57px;
    	}

    	.pawn_next_90
    	{
    	    position: absolute;
    	    top: -3px;
    	    left: 60px;
    	}
    	
    	.pawn_next_270
    	{
    	    position: absolute;
    	    top: -3px;
    	    left: -60px
    	}
    	
    	.pawn_confirm
    	{
    	    width: 16px;
    	    height: 16px;
    	    border-radius: 7px;
    	    border: 1px solid black;
    	    margin: 11px;
    	    background-color: black;
    	    display: none;
    	}
    	
    	#pawn_green
    	{
    	    position: relative;
    	}
    	
    	#pawn_yellow
    	{
    	    position: relative;
    	}
    	
    	#template_fence
    	{
			display: none;
		}
    </style>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="#">Quoridor</a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li class="active"><a href="#">Home</a></li>
                        <li><a href="http://en.wikipedia.org/wiki/Quoridor" target="blank">About</a></li>
                        <li></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>
    </div>
    
    <div class="container" style="margin-top: 40px;">

		<div class="q_gameboard">
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile">
					<div id="pawn_green">
					<!-- <div class="pawn_confirm"></div> -->
					<div class="pawn pawn_green"></div>
					<div class="pawn_next pawn_next_0"></div>
					<div class="pawn_next pawn_next_180"></div>
					<div class="pawn_next pawn_next_90"></div>
					<div class="pawn_next pawn_next_270"></div>
					</div>
				</div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>
			
			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>        
			
			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
					
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>
							
			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>                

			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>
							
			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>
							
			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>                

			
			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
			
			<div class="q_row">
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
				<div class="q_fence_intersection"></div>
			</div>                

			<div class="q_row">
				<div class="q_tile_no_margin"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile">
					<div id="pawn_yellow">
					<!-- <div class="pawn_confirm"></div> -->
					<div class="pawn pawn_yellow"></div>
					<div class="pawn_next pawn_next_0"></div>
					<div class="pawn_next pawn_next_180"></div>
					<div class="pawn_next pawn_next_90"></div>
					<div class="pawn_next pawn_next_270"></div>
					</div>
				</div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
				<div class="q_tile"></div>
			</div>
		</div> <!-- /gameboard --> 
    </div> <!-- /container -->

    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.overlaps.js"></script>
    
    <script>    	
    	$(document).ready(function() {

			$( '#template_fence' ).hover(
				function(){ $( this ).children().show(); },
				function(){ $( this ).children().hide(); }
			);
			
			$( '.q_fence_intersection' ).hover(
				function(){ $( this ).css( 'background-color', 'red' ); },
				function(){ $( this ).css( 'background-color', 'white' ); }
			);
			
			$( '.q_fence_rotator' ).click(function(){
				$( this ).parent().toggleClass( 'q_fence_rotated' );
			});
			
			$( '.pawn' ).click(function(){
				$( this ).siblings().show();
				$( this ).siblings().each(
					function( index, element ){
						if( $( this ).overlaps( '.q_tile' ).length == 0 )
						{
							$( this ).hide();
						}
					}
				);
			});
			
			$( '.pawn_next' ).click(function(){	    	    
				var pawn_container = $( this ).parent();
				
				var pawn_top = 'hey';
				var pawn_left = 'hey';

				switch( $( this ).attr( "class" ) )
				{
					case 'pawn_next pawn_next_0':
						pawn_top = ( pawn_container.offset().top - 60 );
						pawn_left = pawn_container.offset().left;
						break;
					case 'pawn_next pawn_next_90':
						pawn_top = pawn_container.offset().top;
						pawn_left = ( pawn_container.offset().left + 60 );
						break;
					case 'pawn_next pawn_next_180':
						pawn_top = ( pawn_container.offset().top + 60 );
						pawn_left = pawn_container.offset().left;
						break;
					case 'pawn_next pawn_next_270':
						pawn_top = pawn_container.offset().top;
						pawn_left = ( pawn_container.offset().left - 60 );
						break;
				}

				pawn_container.offset( { top: pawn_top, left: pawn_left } );
				$( this ).parent().children( '.pawn_next' ).hide(); 
			});
	    
			//$( '.q_fence_intersection' );
		});
    </script>
    
    <div class='q_fence q_fence_active' id='template_fence'>
    	<div class='q_fence_rotator'><span class="ui-icon ui-icon-refresh" style="margin: 2px;"></span></div>
    	<div class='q_fence_handle'><span class="ui-icon ui-icon-arrow-4" style="position: absolute; top: -5px; left: -4px;"></span></div>
    	<div class='q_fence_confirm'><span class="ui-icon ui-icon-check" style="margin: 2px;"></span></div>
    </div>
</body>
</html>
